{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.search-form');\nconst pictures = document.querySelector('.gallery');\nconst spanLoader = document.querySelector('.loader');\n\nhideLoader();\nsearchForm.addEventListener('submit', searchImage);\nfunction searchImage(event) {\n    event.preventDefault();\n    const image = event.target.elements.image.value.trim();\n    if (image === '') {\n        pictures.innerHTML = \"\";\n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search term to begin your search.',\n            titleSize: '16px',\n            titleLineHeight: '150%',\n            messageSize: '16px',\n            messageLineHeight: '150%',\n            backgroundColor: '#ef4040',\n            position: 'bottomRight',\n        });\n        return;\n    } else {\n        showLoader();\n        getImage(image).then(data => {\n            if (data.totalHits > 0) {\n                const markup = data.hits.map(imageTemplate).join('\\n\\n');\n                pictures.innerHTML = markup;\n                gallery.refresh();\n            } else {\n                pictures.innerHTML = \"\";\n                iziToast.show({\n                    title: 'Error',\n                    message: 'There are no images matching your search query. Please try again!',\n                    titleSize: '16px',\n                    titleLineHeight: '150%',\n                    messageSize: '16px',\n                    messageLineHeight: '150%',\n                    backgroundColor: '#ef4040',\n                    position: 'bottomRight',\n                });\n            }\n        }).catch(error => console.error(error)) .finally(() => {\n        hideLoader();\n    });\n    }\n    evt.target.reset(); \n}\n\nfunction getImage(imageName) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const PARAMS = `?key=42174217-6daf07c41ac875e98ae2151fa&q=${imageName}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + PARAMS;\n    \n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    }); \n}\n\nfunction imageTemplate ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\"><a href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n<div class=\"description\"> <p>Likes <span>${likes}</span></p><p>Views <span>${views}</span></p><p>Comments <span>${comments}</span></p><p>Downloads <span>${downloads}</span></p></div></li>`;\n}\n\nconst gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nfunction showLoader() {\n    spanLoader.style.display = 'block';\n    \n}\n\nfunction hideLoader() {\n    spanLoader.style.display = 'none';\n}"],"names":["searchForm","pictures","spanLoader","hideLoader","searchImage","event","image","iziToast","showLoader","getImage","data","markup","imageTemplate","gallery","error","imageName","BASE_URL","PARAMS","url","response","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAa,SAAS,cAAc,SAAS,EAEnDC,IACAH,EAAW,iBAAiB,SAAUI,CAAW,EACjD,SAASA,EAAYC,EAAO,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAIC,IAAU,GAAI,CACdL,EAAS,UAAY,GACrBM,EAAS,KAAK,CACV,MAAO,QACP,QAAS,mDACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aACtB,CAAS,EACD,MACR,MACQC,IACAC,EAASH,CAAK,EAAE,KAAKI,GAAQ,CACzB,GAAIA,EAAK,UAAY,EAAG,CACpB,MAAMC,EAASD,EAAK,KAAK,IAAIE,CAAa,EAAE,KAAK;AAAA;AAAA,CAAM,EACvDX,EAAS,UAAYU,EACrBE,EAAQ,QAAO,CAC/B,MACgBZ,EAAS,UAAY,GACrBM,EAAS,KAAK,CACV,MAAO,QACP,QAAS,oEACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aAC9B,CAAiB,CAEjB,CAAS,EAAE,MAAMO,GAAS,QAAQ,MAAMA,CAAK,CAAC,EAAG,QAAQ,IAAM,CACvDX,GACR,CAAK,EAED,IAAI,OAAO,OACf,CAEA,SAASM,EAASM,EAAW,CACzB,MAAMC,EAAW,2BACXC,EAAS,6CAA6CF,CAAS,2DAC/DG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CAEA,SAASP,EAAe,CAAC,aAAAQ,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO,qCAAqCL,CAAa,qCAAqCD,CAAY,UAAUE,CAAI;AAAA,2CACjFC,CAAK,6BAA6BC,CAAK,gCAAgCC,CAAQ,iCAAiCC,CAAS,wBACpK,CAEA,MAAMb,EAAU,IAAIc,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASnB,GAAa,CAClBN,EAAW,MAAM,QAAU,OAE/B,CAEA,SAASC,GAAa,CAClBD,EAAW,MAAM,QAAU,MAC/B"}